import{a as V,t as W}from"../chunks/disclose-version.B3b0YnCN.js";import{v as w,Z,_ as z,$ as F,a0 as J,p as Q,j as c,h as X,t as ee,i as te,g as i,Y as f,k as H,l as N,a1 as k}from"../chunks/runtime.DEK_1SnM.js";import{s as re,e as y,a as $,b as se}from"../chunks/store.2BMIJ2G_.js";import{i as ae}from"../chunks/lifecycle.D_hHb3C2.js";import{o as M}from"../chunks/index-client.K_nDozx7.js";import{w as ne}from"../chunks/index.DgYvWGhN.js";let S=!1;function R(){S||(S=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const s of e.target.elements)(t=s.__on_r)==null||t.call(s)})},{capture:!0}))}function oe(e){if(w){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;x(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var r=e.checked;x(e,"checked",null),e.checked=r}}};e.__on_r=s,Z(s),R()}}function x(e,t,s,o){var r=e.__attributes??(e.__attributes={});w&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=s)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[z]=s),e.removeAttribute(t))}function ie(e,t,s,o=s){e.addEventListener(t,s);const r=e.__on_r;r?e.__on_r=()=>{r(),o()}:e.__on_r=o,R()}function ue(e,t,s=t){var o=F();ie(e,"input",()=>{var r=q(e)?E(e.value):e.value;s(r),o&&r!==(r=t())&&(e.value=r??"")}),J(()=>{var r=t();if(w&&e.defaultValue!==e.value){s(e.value);return}q(e)&&r===E(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function q(e){var t=e.type;return t==="number"||t==="range"}function E(e){return e===""?null:+e}const le=""+new URL("../assets/umineko.DH4kiles.mp3",import.meta.url).href,ce=""+new URL("../assets/muon.BINCiEG0.m4a",import.meta.url).href;var fe=W('<h1>Welcome to SvelteKit</h1> <h1> </h1> <button>Increment</button> <input type="time" placeholder="Start Time (HH:MM)"> <button>Stop</button> <button>Play</button> <p> </p>',1);function be(e,t){Q(t,!1);const s=re(),o=()=>se(v,"$isPlaying",s);let r=k("");const B=async()=>{const n=await Notification.requestPermission();f(r,"Permission: "+n)};M(()=>{B()});let _=k(0);function C(){f(_,i(_)+1)}let u=k(""),A=null,a;const v=ne(!1),m=()=>{v.set(!0),a=new Audio(ce),a.play(),a.onended=()=>{a.currentTime=0},A=setInterval(()=>{a!==null&&(G()&&(a.pause(),a.currentTime=0,a=new Audio(le)),a.play(),a.onended=()=>{a.currentTime=0})},3e4)},I=()=>{v.set(!1),clearInterval(A),a&&(a.pause(),a.currentTime=0,a=null),f(u,"")};function G(){const n=new Date,[b,g]=i(u).split(":").map(Number),l=new Date;return l.setHours(b,g,0,0),n>=l}const K=()=>{const n=new Date,[b,g]=i(u).split(":").map(Number),l=new Date;if(l.setHours(b,g,0,0),n>=l)m();else{const j=l-n;setTimeout(m,j)}};M(()=>{const n=setInterval(()=>{i(u)&&K()},6e3);return()=>{clearInterval(n),I()}});const O=()=>{m()};ae();var P=fe(),d=c(X(P),2),U=H(d);N(d);var T=c(d,2),p=c(T,2);oe(p);var h=c(p,2),L=c(h,2),D=c(L,2),Y=H(D);N(D),ee(()=>{$(U,`a is ${i(_)??""}`),h.disabled=o()===!1,$(Y,`log: ${i(r)??""}`)}),y("click",T,C),ue(p,()=>i(u),n=>f(u,n)),y("click",h,I),y("click",L,O),V(e,P),te()}export{be as component};
