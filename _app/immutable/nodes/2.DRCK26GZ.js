import{a as x,t as E}from"../chunks/disclose-version.B3b0YnCN.js";import{v,Z as R,_ as B,$ as G,a0 as K,p as O,j as l,h as U,t as Y,i as j,Y as n,g as d,k as q,l as C,a1 as b}from"../chunks/runtime.DEK_1SnM.js";import{s as V,e as k,a as W,b as Z}from"../chunks/store.2BMIJ2G_.js";import{i as z}from"../chunks/lifecycle.D_hHb3C2.js";import{w as F}from"../chunks/index.DgYvWGhN.js";let w=!1;function P(){w||(w=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const s of e.target.elements)(t=s.__on_r)==null||t.call(s)})},{capture:!0}))}function J(e){if(v){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var o=e.value;A(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var r=e.checked;A(e,"checked",null),e.checked=r}}};e.__on_r=s,R(s),P()}}function A(e,t,s,o){var r=e.__attributes??(e.__attributes={});v&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=s)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[B]=s),e.removeAttribute(t))}function Q(e,t,s,o=s){e.addEventListener(t,s);const r=e.__on_r;r?e.__on_r=()=>{r(),o()}:e.__on_r=o,P()}function X(e,t,s=t){var o=G();Q(e,"input",()=>{var r=L(e)?T(e.value):e.value;s(r),o&&r!==(r=t())&&(e.value=r??"")}),K(()=>{var r=t();if(v&&e.defaultValue!==e.value){s(e.value);return}L(e)&&r===T(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function L(e){var t=e.type;return t==="number"||t==="range"}function T(e){return e===""?null:+e}const ee=""+new URL("../assets/umineko.DH4kiles.mp3",import.meta.url).href,te=""+new URL("../assets/muon.BINCiEG0.m4a",import.meta.url).href;var re=E('<h1>Welcome to SvelteKit</h1> <input type="time" placeholder="Start Time (HH:MM)"> <button>Stop</button> <button>Play</button> <p> </p>',1);function le(e,t){O(t,!1);const s=V(),o=()=>Z(u,"$isPlaying",s);let r=b(""),i=b(""),m=null,a;const u=F(!1),I=()=>{u.set(!0),a=new Audio(te),a.play(),a.onended=()=>{a.currentTime=0},m=setInterval(()=>{if(a===null){n(r,"audio is null");return}H()?(a.currentTime=0,a.src=ee,n(r,"time passed "+a.src)):n(r,"time not passed "+a.src),a.play(),a.onended=()=>{a.currentTime=0}},3e4)},$=()=>{u.set(!1),clearInterval(m),a&&(a.pause(),a.currentTime=0,a=null),n(i,"")};function H(){const c=new Date,[D,M]=d(i).split(":").map(Number),y=new Date;return y.setHours(D,M,0,0),c>=y}const N=()=>{n(r,"pushed start"),I()};z();var p=re(),f=l(U(p),2);J(f);var _=l(f,2),h=l(_,2),g=l(h,2),S=q(g);C(g),Y(()=>{_.disabled=o()===!1,W(S,`log: ${d(r)??""}`)}),X(f,()=>d(i),c=>n(i,c)),k("click",_,$),k("click",h,N),x(e,p),j()}export{le as component};
